{"version":3,"file":"static/js/937.21926eb5.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/movies/moviesSearch/MoviesSearch.module.css?b4af","components/common/searchContext/SearchContext.js","pages/movies/moviesSearch/MoviesSearch.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchContainer\":\"MoviesSearch_searchContainer__kEmNf\",\"searchResultsContainer\":\"MoviesSearch_searchResultsContainer__0+CDr\",\"Header\":\"MoviesSearch_Header__HGeGV\",\"Searchbar\":\"MoviesSearch_Searchbar__VERDC\",\"SearchForm\":\"MoviesSearch_SearchForm__eo10I\",\"SearchFormButton\":\"MoviesSearch_SearchFormButton__idN+r\",\"SearchFormButtonLabel\":\"MoviesSearch_SearchFormButtonLabel__-6CyA\",\"SearchFormInput\":\"MoviesSearch_SearchFormInput__LiOA9\",\"list\":\"MoviesSearch_list__AdYJ3\",\"navLink\":\"MoviesSearch_navLink__71EHg\",\"navLinkActive\":\"MoviesSearch_navLinkActive__D5wLt\"};","// SearchContext.js\nimport { createContext, useContext, useState } from 'react';\n\nconst SearchContext = createContext();\n\nexport const SearchProvider = ({ children }) => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchError, setSearchError] = useState('');\n\n  const updateSearchResults = (results, error) => {\n    setSearchResults(results);\n    setSearchError(error);\n  };\n\n  return (\n    <SearchContext.Provider\n      value={{ searchResults, searchError, updateSearchResults }}\n    >\n      {children}\n    </SearchContext.Provider>\n  );\n};\n\nexport const useSearch = () => {\n  return useContext(SearchContext);\n};\n","// MoviesSearch.jsx\nimport React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styles from './MoviesSearch.module.css';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { useSearch } from 'components/common/searchContext/SearchContext';\n\nconst MoviesSearch = ({ handleInputChange }) => {\n  const { searchResults, searchError, updateSearchResults } = useSearch();\n  const [input, setInput] = useState('');\n\n  const onSubmit = async ev => {\n    ev.preventDefault();\n\n    if (typeof handleInputChange === 'function') {\n      handleInputChange(input);\n    } else {\n      console.error('handleInputChange is not a function');\n    }\n\n    try {\n      const response = await axios.get(\n        'https://api.themoviedb.org/3/search/movie',\n        {\n          params: {\n            include_adult: false,\n            language: 'en-US',\n            page: 1,\n            query: input,\n          },\n          headers: {\n            accept: 'application/json',\n            Authorization: 'Bearer your-api-key',\n          },\n        }\n      );\n\n      if (response.data.results.length === 0) {\n        updateSearchResults([], 'No results found for the given search term.');\n      } else {\n        updateSearchResults(response.data.results, '');\n      }\n    } catch (error) {\n      updateSearchResults(\n        [],\n        'An error occurred while fetching search results from API.'\n      );\n    }\n\n    setInput('');\n  };\n\n  const onChange = ev => {\n    setInput(ev.target.value);\n  };\n\n  return (\n    <section className={styles.Header}>\n      <div className={styles.searchContainer}>\n        <form className={styles.SearchForm} onSubmit={onSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}></button>\n          <input\n            name=\"input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            onChange={onChange}\n            value={input}\n            autoFocus\n            placeholder=\"Search movies\"\n            className={styles.SearchFormInput}\n          />\n        </form>\n\n        {searchError && <p>{searchError}</p>}\n\n        {searchResults.length > 0 && (\n          <div className={styles.searchResultsContainer}>\n            <h2>Search Results:</h2>\n            <ul>\n              {searchResults.map(result => (\n                <li key={result.id} className={styles.list}>\n                  <NavLink\n                    className={isActive =>\n                      isActive\n                        ? `${styles.navLink} ${styles.navLinkActive}`\n                        : styles.navLink\n                    }\n                    to={`/movies/${result.id}`}\n                  >\n                    {result.title}\n                  </NavLink>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\nMoviesSearch.propTypes = {\n  handleInputChange: PropTypes.func.isRequired,\n};\n\nexport default MoviesSearch;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["SearchContext","createContext","_ref","handleInputChange","_useSearch","useContext","searchResults","searchError","updateSearchResults","_useState","useState","_useState2","_slicedToArray","input","setInput","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","ev","response","_context","prev","next","preventDefault","console","error","axios","params","include_adult","language","page","query","headers","accept","Authorization","sent","data","results","length","t0","stop","_x","apply","arguments","_jsx","className","styles","children","_jsxs","type","name","autoComplete","onChange","target","value","autoFocus","placeholder","map","result","NavLink","isActive","concat","to","id","title","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}