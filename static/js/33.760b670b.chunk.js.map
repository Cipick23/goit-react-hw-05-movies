{"version":3,"file":"static/js/33.760b670b.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/common/Error/Error.module.css?7258","components/common/Error/Error.jsx","webpack://react-homework-template/./src/components/common/backLink/BackLink.module.css?3564","components/common/backLink/BackLink.jsx","services/apiDetails.js","webpack://react-homework-template/./src/pages/movies/movieDetails/MovieDetails.module.css?13de","pages/movies/movieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"alert\":\"Error_alert__OfXrQ\"};","// Error.js\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Error.module.css';\n\nconst Error = ({ message }) => {\n  return <div className={styles.alert}>{message}</div>;\n};\n\nError.propTypes = { message: PropTypes.string.isRequired };\n\nexport default Error;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"BackLink_link__ItSmp\"};","import React, { useRef } from 'react';\nimport { HiArrowLeft } from 'react-icons/hi';\nimport { Link, useLocation } from 'react-router-dom';\nimport styles from './BackLink.module.css';\n\nexport const BackLink = ({ to, children }) => {\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from || '/');\n\n  return (\n    <div>\n      <Link\n        to={to ? `${backLinkHref.current}${to}` : backLinkHref.current}\n        className={styles.link}\n      >\n        <HiArrowLeft size=\"22\" />\n        {children}\n      </Link>\n    </div>\n  );\n};\n","// services/apiDetails.js\nconst fetchMovieDetails = id => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3MmZiNGNlMzE4ZWEyMzFmODJjN2Y3MTc5NmFhM2M2ZSIsInN1YiI6IjY1NzBkZjkyZGQ3MzFiMDBhYjk2Nzc0NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.F4GA0UkBmMTH3hTtFSbrMrSBqudmtfgqt4w1tmAKyIU',\n    },\n  };\n\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?language=en-US`,\n    options\n  )\n    .then(response => response.json())\n    .catch(err => {\n      console.error(`Error fetching movie details for ID: ${id}`, err);\n      throw err;\n    });\n};\n\nexport default fetchMovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"flex\":\"MovieDetails_flex__kgnkt\",\"imgContainer\":\"MovieDetails_imgContainer__DH7Dp\",\"ImageGalleryItem\":\"MovieDetails_ImageGalleryItem__Q0TGE\",\"additionalInformation\":\"MovieDetails_additionalInformation__eIrCc\"};","import React, { lazy, Suspense, useEffect, useState } from 'react';\nimport {\n  NavLink,\n  useParams,\n  Route,\n  Routes,\n  useLocation,\n  // useNavigate,\n} from 'react-router-dom';\nimport Loader from 'components/common/loader/Loader';\nimport Error from 'components/common/Error/Error';\nimport PropTypes from 'prop-types';\nimport { BackLink } from 'components/common/backLink/BackLink';\nimport fetchMovieDetails from 'services/apiDetails';\nimport styles from './MovieDetails.module.css';\n\n// Folosește React.lazy() pentru a încărca dinamic componentele MovieCast și MovieReviews\nconst MovieCast = lazy(() => import('./cast/MovieCast'));\nconst MovieReviews = lazy(() => import('./reviews/MovieReviews'));\nconst MoviesSearch = lazy(() => import('../moviesSearch/MoviesSearch'));\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState({\n    id: 0,\n    poster_path: '',\n    title: '',\n    popularity: '',\n    genres: [],\n    overview: '',\n    description: '',\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { id } = useParams();\n  // const navigate = useNavigate();\n  const location = useLocation();\n\n  const handleInputChange = inputValue => {\n    console.log('Input value in MovieDetails:', inputValue);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setIsLoading(true);\n        const response = await fetchMovieDetails(id);\n        setMovieDetails(response);\n      } catch (error) {\n        setError('An error occurred while retrieving movie details.');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchData();\n  }, [id]);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (error && error.length > 0) {\n    return <Error message={error} />;\n  }\n\n  const genresString = movieDetails.genres.map(genre => genre.name).join(', ');\n\n  const isMoviesRoute =\n    location.pathname.includes('movies') &&\n    !location.pathname.includes('movies/');\n\n  return (\n    <>\n      <BackLink to={''}>Back</BackLink>\n\n      {isMoviesRoute && (\n        <Suspense fallback={<Loader />}>\n          <MoviesSearch handleInputChange={handleInputChange} />\n        </Suspense>\n      )}\n\n      <div className={styles.flex}>\n        <div className={styles.imgContainer}>\n          <img\n            src={`https://image.tmdb.org/t/p/original${movieDetails.poster_path}`}\n            alt={movieDetails.title}\n            className={styles.ImageGalleryItem}\n          />\n        </div>\n        <div>\n          <h1>{movieDetails.title}</h1>\n          <p>Popularity: {movieDetails.popularity}</p>\n          <h3>Overview</h3>\n          <p>{movieDetails.overview}</p>\n          <h3>Genres</h3>\n          <p>{genresString}</p>\n        </div>\n      </div>\n\n      <div className={styles.flex}>\n        <NavLink to={`/movies/${id}/cast`}>Cast</NavLink>\n        <NavLink to={`/movies/${id}/reviews`}>Reviews</NavLink>\n      </div>\n\n      <div className={styles.additionalInformation}>\n        <h2 className={styles}>Additional information</h2>\n        <Routes>\n          <Route\n            path=\"cast\"\n            element={\n              <Suspense fallback={<Loader />}>\n                <NavLink\n                  key={id}\n                  to=\"/movies\"\n                  className={({ isActive }) =>\n                    [styles.navLink, isActive ? styles.navLinkActive : ''].join(\n                      ' '\n                    )\n                  }\n                >\n                  <MovieCast />\n                </NavLink>\n              </Suspense>\n            }\n          />\n          <Route\n            path=\"reviews\"\n            element={\n              <Suspense fallback={<Loader />}>\n                <MovieReviews movieDetails={movieDetails} />\n              </Suspense>\n            }\n          />\n        </Routes>\n      </div>\n    </>\n  );\n};\n\nMovieDetails.propTypes = {\n  movieDetails: PropTypes.object,\n};\n\nexport default MovieDetails;\n"],"names":["_ref","message","_jsx","className","styles","children","BackLink","_location$state","to","location","useLocation","backLinkHref","useRef","state","from","_jsxs","Link","concat","current","HiArrowLeft","size","id","fetch","method","headers","accept","Authorization","then","response","json","catch","err","console","error","MovieCast","lazy","MovieReviews","MoviesSearch","_useState","useState","poster_path","title","popularity","genres","overview","description","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","setError","useParams","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","fetchMovieDetails","sent","t0","finish","stop","apply","arguments","fetchData","Loader","length","Error","genresString","map","genre","name","join","isMoviesRoute","pathname","includes","_Fragment","Suspense","fallback","handleInputChange","inputValue","log","src","alt","NavLink","Routes","Route","path","element","isActive"],"sourceRoot":""}