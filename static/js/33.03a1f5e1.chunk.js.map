{"version":3,"file":"static/js/33.03a1f5e1.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/common/Error/Error.module.css?7258","components/common/Error/Error.jsx","webpack://react-homework-template/./src/components/common/backLink/BackLink.module.css?3564","components/common/backLink/BackLink.jsx","services/apiDetails.js","webpack://react-homework-template/./src/pages/movies/movieDetails/MovieDetails.module.css?13de","pages/movies/movieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"alert\":\"Error_alert__OfXrQ\"};","// Error.js\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Error.module.css';\n\nconst Error = ({ message }) => {\n  return <div className={styles.alert}>{message}</div>;\n};\n\nError.propTypes = { message: PropTypes.string.isRequired };\n\nexport default Error;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"BackLink_link__ItSmp\"};","import React from 'react';\n// import { HiArrowLeft } from 'react-icons/hi';\nimport { useNavigate } from 'react-router-dom';\nimport styles from './BackLink.module.css';\nimport { HiArrowLeft } from 'react-icons/hi';\n\nexport const BackLink = ({ to, children }) => {\n  const navigate = useNavigate();\n  const handleClick = () => navigate(-1);\n\n  return (\n    <div>\n      <button className={styles.link} type=\"button\" onClick={handleClick}>\n        <HiArrowLeft size=\"22\" />\n        Go Back\n      </button>\n    </div>\n  );\n};\n\nexport default BackLink;\n","// services/apiDetails.js\nconst fetchMovieDetails = id => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3MmZiNGNlMzE4ZWEyMzFmODJjN2Y3MTc5NmFhM2M2ZSIsInN1YiI6IjY1NzBkZjkyZGQ3MzFiMDBhYjk2Nzc0NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.F4GA0UkBmMTH3hTtFSbrMrSBqudmtfgqt4w1tmAKyIU',\n    },\n  };\n\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?language=en-US`,\n    options\n  )\n    .then(response => response.json())\n    .catch(err => {\n      console.error(`Error fetching movie details for ID: ${id}`, err);\n      throw err;\n    });\n};\n\nexport default fetchMovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"flex\":\"MovieDetails_flex__kgnkt\",\"imgContainer\":\"MovieDetails_imgContainer__DH7Dp\",\"ImageGalleryItem\":\"MovieDetails_ImageGalleryItem__Q0TGE\",\"additionalInformation\":\"MovieDetails_additionalInformation__eIrCc\",\"navLink\":\"MovieDetails_navLink__Yson-\",\"navLinkActive\":\"MovieDetails_navLinkActive__cu4Gu\"};","import React, { lazy, Suspense, useEffect, useState } from 'react';\nimport {\n  NavLink,\n  useParams,\n  Route,\n  Routes,\n  useLocation,\n} from 'react-router-dom';\nimport Loader from 'components/common/loader/Loader';\nimport Error from 'components/common/Error/Error';\nimport PropTypes from 'prop-types';\nimport { BackLink } from 'components/common/backLink/BackLink';\nimport fetchMovieDetails from 'services/apiDetails';\nimport styles from './MovieDetails.module.css';\n\nconst MovieCast = lazy(() => import('./cast/MovieCast'));\nconst MovieReviews = lazy(() => import('./reviews/MovieReviews'));\nconst MoviesSearch = lazy(() => import('../moviesSearch/MoviesSearch'));\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState({\n    id: 0,\n    poster_path: '',\n    title: '',\n    popularity: '',\n    genres: [],\n    overview: '',\n    description: '',\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { id } = useParams();\n  const location = useLocation();\n\n  const handleInputChange = inputValue => {\n    console.log('Input value in MovieDetails:', inputValue);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setIsLoading(true);\n        const response = await fetchMovieDetails(id);\n        setMovieDetails(response);\n      } catch (error) {\n        setError('An error occurred while retrieving movie details.');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchData();\n  }, [id]);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (error && error.length > 0) {\n    return <Error message={error} />;\n  }\n\n  const genresString = movieDetails.genres.map(genre => genre.name).join(', ');\n\n  const isMoviesRoute =\n    location.pathname.includes('movies') &&\n    !location.pathname.includes('movies/');\n\n  // const locationButton = useLocation();\n  // const backLinkHref = useRef(location.state?.from || '/');\n\n  return (\n    <>\n      <BackLink />\n\n      {isMoviesRoute && (\n        <Suspense fallback={<Loader />}>\n          <MoviesSearch handleInputChange={handleInputChange} />\n        </Suspense>\n      )}\n\n      <div className={styles.flex}>\n        <div className={styles.imgContainer}>\n          <img\n            src={`https://image.tmdb.org/t/p/original${movieDetails.poster_path}`}\n            alt={movieDetails.title}\n            className={styles.ImageGalleryItem}\n          />\n        </div>\n        <div>\n          <h1>{movieDetails.title}</h1>\n          <p>Popularity: {movieDetails.popularity}</p>\n          <h3>Overview</h3>\n          <p>{movieDetails.overview}</p>\n          <h3>Genres</h3>\n          <p>{genresString}</p>\n        </div>\n      </div>\n\n      <div className={styles.flex}>\n        <NavLink\n          to={`/movies/${id}/cast`}\n          className={({ isActive }) =>\n            [styles.navLink, isActive ? styles.navLinkActive : ''].join(' ')\n          }\n        >\n          Cast\n        </NavLink>\n        <NavLink\n          to={`/movies/${id}/reviews`}\n          className={({ isActive }) =>\n            [styles.navLink, isActive ? styles.navLinkActive : ''].join(' ')\n          }\n        >\n          Reviews\n        </NavLink>\n      </div>\n\n      <div className={styles.additionalInformation}>\n        <h2 className={styles}>Additional information</h2>\n        <Routes>\n          <Route\n            path=\"cast\"\n            element={\n              <Suspense fallback={<Loader />}>\n                <MovieCast />\n              </Suspense>\n            }\n          />\n          <Route\n            path=\"reviews\"\n            element={\n              <Suspense fallback={<Loader />}>\n                <MovieReviews movieDetails={movieDetails} />\n              </Suspense>\n            }\n          />\n        </Routes>\n      </div>\n    </>\n  );\n};\n\nMovieDetails.propTypes = {\n  movieDetails: PropTypes.object,\n};\n\nexport default MovieDetails;\n"],"names":["_ref","message","_jsx","className","styles","children","BackLink","to","navigate","useNavigate","_jsxs","type","onClick","HiArrowLeft","size","id","fetch","concat","method","headers","accept","Authorization","then","response","json","catch","err","console","error","MovieCast","lazy","MovieReviews","MoviesSearch","_useState","useState","poster_path","title","popularity","genres","overview","description","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","setError","useParams","location","useLocation","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","fetchMovieDetails","sent","t0","finish","stop","apply","arguments","fetchData","Loader","length","Error","genresString","map","genre","name","join","isMoviesRoute","pathname","includes","_Fragment","Suspense","fallback","handleInputChange","inputValue","log","src","alt","NavLink","isActive","_ref2","Routes","Route","path","element"],"sourceRoot":""}